(this.webpackJsonptensorflow=this.webpackJsonptensorflow||[]).push([[0],{292:function(e,t){},293:function(e,t){},301:function(e,t){},307:function(e,t){},308:function(e,t){},313:function(e,t,n){"use strict";n.r(t);var r,c=n(12),a=n.n(c),i=n(256),o=n.n(i),s=n(315),u=n(4),l=n.n(u),b=n(11),d=n(5),j=n(257),h=n(275),f=n(160),p=n(46),x=n(314),m=n(23),O=function(){return Object(m.jsx)(x.a,{p:4,children:"Choose one from the menu above"})},v=n(96),g=function(e){var t=e.modelMobilenet,n=Object(c.useRef)(null),r=Object(c.useState)(!1),a=Object(d.a)(r,2),i=a[0],o=a[1],s=Object(c.useState)(),u=Object(d.a)(s,2),j=u[0],h=u[1],f=Object(c.useCallback)((function(e){(function(){var e=Object(b.a)(l.a.mark((function e(n){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return h(void 0),e.abrupt("return");case 3:return e.prev=3,o(!0),e.next=7,t.classify(n);case 7:r=e.sent,c=r.map((function(e,t){return Object(m.jsxs)(x.a,{children:[Object(m.jsx)("b",{children:e.className})," - ","".concat(Math.round(100*e.probability),"%")]},t)})),h(c),o(!1),n.dispose(),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(3),o(!1),h(void 0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}})()(e)}),[t]),p=function(){var e=Object(b.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.current){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,v.a.webcam(n.current);case 5:return t=e.sent,e.next=8,t.capture();case 8:r=e.sent,f(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=function(){var e=Object(b.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.webcam(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n.current&&e(n.current)}),[n]),Object(m.jsxs)(x.a,{p:4,children:[Object(m.jsx)(x.a,{children:Object(m.jsx)("video",{width:768,height:576,ref:n})}),Object(m.jsx)(x.b,{onClick:p,variant:"primary",children:"Capture"}),i&&Object(m.jsx)(x.a,{children:"loading"}),j&&Object(m.jsx)(x.a,{mt:3,children:j})]})},y=function(e){var t=e.modelMobilenet,n=(e.modelKnn,Object(c.useRef)(null)),r=Object(c.useState)(!1),a=Object(d.a)(r,2),i=a[0],o=a[1],s=Object(c.useState)(0),u=Object(d.a)(s,2),j=u[0],h=u[1],f=Object(c.useState)(),p=Object(d.a)(f,2),O=p[0],v=p[1],g=Object(c.useCallback)((function(e){(function(){var e=Object(b.a)(l.a.mark((function e(n){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return o(!1),v(void 0),e.abrupt("return");case 4:return e.prev=4,o(!0),e.next=8,t.classify(n);case 8:r=e.sent,c=r.map((function(e,t){return Object(m.jsxs)(x.a,{children:[Object(m.jsx)("b",{children:e.className})," - ","".concat(Math.round(100*e.probability),"%")]},t)})),v(c),o(!1),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(4),o(!1),v(void 0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}})()(e)}),[t]);return Object(m.jsx)(x.a,{p:4,children:t&&Object(m.jsxs)(x.a,{sx:{width:1e3},children:[Object(m.jsx)(x.a,{sx:{height:700},children:Object(m.jsx)(x.e,{onLoad:function(){n.current&&g(n.current)},ref:n,alt:"cat",crossOrigin:"anonymous",src:"https://picsum.photos/1000/700"},j)}),Object(m.jsx)(x.a,{mt:3,children:i?"loading":O||""}),!i&&Object(m.jsx)(x.b,{mt:3,variant:"primary",onClick:function(){o(!0),v(void 0),h(j+1)},children:"reload"})]})})},w=n(20),S=["left","up","down","center","right"].sort((function(e,t){return e.localeCompare(t)})),k=function(e){var t=e.modelMobilenet,n=e.modelKnn,a=Object(c.useRef)(null),i=Object(c.useState)(),o=Object(d.a)(i,2),s=o[0],u=o[1],j=Object(c.useState)(),h=Object(d.a)(j,2),f=h[0],p=h[1],O=Object(c.useState)(!1),g=Object(d.a)(O,2),y=g[0],k=g[1],C=Object(c.useState)([]),F=Object(d.a)(C,2),W=F[0],M=F[1],H=Object(c.useState)(!1),A=Object(d.a)(H,2),E=A[0],L=A[1];Object(c.useEffect)((function(){var e=function(){var e=Object(b.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,v.a.webcam(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.current&&e(a.current),function(){z()}}),[a]);var z=function(){r&&window.cancelAnimationFrame(r),r=void 0},T=function(){var e=Object(b.a)(l.a.mark((function e(r){var c,a,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!0),c=0;case 2:if(!(c<15)){e.next=14;break}return e.next=5,s.capture();case 5:return a=e.sent,(i=null===t||void 0===t?void 0:t.infer(a))&&(null===n||void 0===n||n.addExample(i,r)),a.dispose(),c++,e.next=12,Object(v.c)();case 12:e.next=2;break;case 14:o=[].concat(Object(w.a)(W),[r]).sort((function(e,t){return e.localeCompare(t)})),M(o),k(!1),o.toString()===S.toString()&&L(!0);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(l.a.mark((function e(){var c,a,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(!(n.getNumClasses()>0)){e.next=12;break}return e.next=5,s.capture();case 5:return c=e.sent,a=null===t||void 0===t?void 0:t.infer(c),e.next=9,null===n||void 0===n?void 0:n.predictClass(a);case 9:i=e.sent,p(Object(m.jsxs)(x.a,{children:[Object(m.jsx)(x.a,{mb:2,sx:{fontWeight:"bold"},children:i.label}),Object.keys(i.confidences).map((function(e,t){return Object(m.jsxs)(x.a,{children:[e,": ",i.confidences[e]]},t)}))]})),c.dispose();case 12:r=window.requestAnimationFrame(_);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)(x.a,{p:4,children:Object(m.jsxs)(x.a,{sx:{mx:"auto",textAlign:"center",maxWidth:768},children:[Object(m.jsx)(x.a,{children:Object(m.jsx)("video",{width:768,height:576,ref:a})}),Object(m.jsxs)(x.a,{mt:3,sx:{opacity:y?.5:1,pointerEvents:y?"none":"visible"},children:[!E&&Object(m.jsxs)(x.a,{children:[Object(m.jsx)(x.h,{children:"Teach the machine all angles of your face"}),Object(m.jsxs)(x.c,{sx:{mt:3,justifyContent:"space-between"},children:[Object(m.jsx)(x.b,{onClick:function(){return T("left")},variant:"secondary",children:"Left"}),Object(m.jsx)(x.b,{onClick:function(){return T("up")},variant:"secondary",children:"Up"}),Object(m.jsx)(x.b,{onClick:function(){return T("center")},variant:"secondary",children:"Center"}),Object(m.jsx)(x.b,{onClick:function(){return T("down")},variant:"secondary",children:"Down"}),Object(m.jsx)(x.b,{onClick:function(){return T("right")},variant:"secondary",children:"Right"})]})]}),E&&Object(m.jsx)(x.b,{onClick:function(){_()},mt:5,children:"Detect head position"})]}),Object(m.jsx)(x.a,{mt:3,children:f})]})})},C=n(279),F=[{path:"/",component:O,name:"Home",exact:!0},{path:"/tensorflow-study/image-detection",component:y,name:"Random Image Detection"},{path:"/tensorflow-study/webcam",component:g,name:"Webcam"},{path:"/tensorflow-study/transfer-learning",component:k,name:"Transfer Learning"},{path:"/tensorflow-study/sentiment",component:function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(),i=Object(d.a)(a,2),o=i[0],s=i[1],u=Object(c.useState)(),j=Object(d.a)(u,2),h=j[0],f=j[1],p=Object(c.useState)(!1),O=Object(d.a)(p,2),g=O[0],y=O[1],w=Object(c.useState)(!1),S=Object(d.a)(w,2),k=S[0],F=S[1],W=Object(c.useState)(),M=Object(d.a)(W,2),H=M[0],A=M[1],E=Object(c.useState)(),L=Object(d.a)(E,2),z=L[0],T=L[1],_=Object(c.useState)("This is really the most useless talk I have ever watched"),N=Object(d.a)(_,2),R=N[0],B=N[1],D=function(){var e=Object(b.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.t0=s,e.next=4,Object(C.a)(.9,[]);case 4:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=r,e.next=9,Object(v.b)("https://storage.googleapis.com/tfjs-models/tfjs/sentiment_cnn_v1/model.json");case 9:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=f,e.next=14,fetch("https://storage.googleapis.com/tfjs-models/tfjs/sentiment_cnn_v1/metadata.json");case 14:return e.next=16,e.sent.json();case 16:e.t5=e.sent,(0,e.t4)(e.t5),y(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(b.a)(l.a.mark((function e(t){var r,c,a,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),h&&n){e.next=3;break}return e.abrupt("return");case 3:return F(!0),A(void 0),T(void 0),r=R.trim().toLowerCase().replace(/(\.|,|!\?)/g,"").split(" "),c=r.map((function(e){var t=h.word_index[e];return"undefined"===typeof t?2:t+h.index_from})),a=new Array(h.max_len-c.length).fill(0).concat(c),i=Object(v.d)(a,[1,h.max_len]),s=n.predict(i),A(s.dataSync()[0]),s.dispose(),e.t0=T,e.next=16,null===o||void 0===o?void 0:o.classify([R]);case 16:e.t1=e.sent,(0,e.t0)(e.t1),F(!1);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){D()}),[]),Object(m.jsxs)(x.a,{p:4,children:[g&&Object(m.jsx)(x.h,{children:"Loading Sentiment and Toxicity models"}),!g&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x.d,{as:"h2",children:"Sentiment analysis"}),Object(m.jsx)("form",{onSubmit:I,children:Object(m.jsx)(x.f,{autoComplete:"off",mt:3,onChange:function(e){B(e.currentTarget.value)},value:R,name:"input"})}),H&&z&&Object(m.jsxs)(x.a,{mt:2,children:[Object(m.jsxs)(x.h,{children:[Object(m.jsx)(x.d,{mt:4,as:"h3",children:"Sentiment Score:"}),Object(m.jsx)(x.h,{as:"span",mt:3,sx:{color:H>.66?"green":H<.33?"red":"orange"},children:H})]}),Object(m.jsxs)(x.h,{mt:2,children:[Object(m.jsx)(x.d,{mt:4,as:"h3",children:"Toxicity:"}),null===z||void 0===z?void 0:z.map((function(e,t){return Object(m.jsxs)(x.a,{mt:2,pl:3,sx:{opacity:e.results.every((function(e){return e.match}))?1:.4},children:[Object(m.jsx)("b",{children:e.label}),":",e.results.map((function(e,t){return Object(m.jsxs)(x.a,{mt:2,children:[Object(m.jsxs)(x.h,{sx:{pl:4},children:["Probabilities: ",JSON.stringify(e.probabilities)]}),Object(m.jsxs)(x.h,{sx:{pl:4},children:["Match:"," ",Object(m.jsx)(x.h,{as:"span",sx:{color:e.match?"green":"text",fontWeight:e.match?"bold":"normal"},children:JSON.stringify(e.match)})]})]},t)}))]},t)}))]})]}),Object(m.jsx)(x.b,{sx:{opacity:k?.4:1,pointerEvents:k?"none":"visible"},mt:4,onClick:I,children:k?"Loading...":"Analyse"})]})]})},name:"Sentiment Analysis"}],W=n(213),M=n(282),H=x.g,A=function(e){var t=e.children,n=Object(M.a)(e,["children"]);return Object(m.jsx)(H,Object(W.a)(Object(W.a)({as:f.b},n),{},{children:t}))},E=function(){var e=Object(p.f)();return Object(m.jsx)(x.c,{as:"nav",sx:{px:3,py:4,bg:"muted"},children:F.map((function(t){return Object(m.jsx)(A,{variant:e.pathname===t.path?"navActive":"nav",to:t.path,children:t.name},t.name)}))})},L=function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(),i=Object(d.a)(a,2),o=i[0],s=i[1],u=Object(c.useState)(!1),O=Object(d.a)(u,2),v=O[0],g=O[1],y=function(){var e=Object(b.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=r,e.next=4,j.a();case 4:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=s,e.next=9,h.a();case 9:e.t3=e.sent,(0,e.t2)(e.t3),e.next=17;break;case 13:e.prev=13,e.t4=e.catch(0),console.log(e.t4),g(!0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){y()}),[]),Object(m.jsxs)(f.a,{children:[Object(m.jsx)(E,{}),v?Object(m.jsx)(x.a,{p:3,children:"Error loading Model"}):Object(m.jsx)(m.Fragment,{children:n&&o?Object(m.jsx)(p.c,{children:F.map((function(e,t){var r=e.exact,c=e.path,a=e.component;return Object(m.jsx)(p.a,{exact:r,path:c,children:Object(m.jsx)(a,{modelMobilenet:n,modelKnn:o})},t)}))}):Object(m.jsx)(x.a,{p:3,children:"Loading Models"})})]})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,316)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},T={space:[0,4,8,16,32,64,128,256,512],fonts:{body:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif',heading:"inherit",monospace:"Menlo, monospace"},fontSizes:[12,14,16,20,24,32,48,64,96],fontWeights:{body:400,heading:700,bold:700},lineHeights:{body:1.5,heading:1.125},buttons:{primary:{cursor:"pointer"},secondary:{bg:"secondary",color:"white",cursor:"pointer"}},colors:{text:"#000",background:"#fff",primary:"#07c",secondary:"#30c",muted:"#f6f6f6"},links:{nav:{mr:4},navActive:{variant:"links.nav",color:"secondary",pointerEvents:"none"}},styles:{root:{fontFamily:"body",lineHeight:"body",fontWeight:"body"},h1:{color:"text",fontFamily:"heading",lineHeight:"heading",fontWeight:"heading",fontSize:5},h2:{color:"text",fontFamily:"heading",lineHeight:"heading",fontWeight:"heading",fontSize:4},h3:{color:"text",fontFamily:"heading",lineHeight:"heading",fontWeight:"heading",fontSize:3},h4:{color:"text",fontFamily:"heading",lineHeight:"heading",fontWeight:"heading",fontSize:2},h5:{color:"text",fontFamily:"heading",lineHeight:"heading",fontWeight:"heading",fontSize:1},h6:{color:"text",fontFamily:"heading",lineHeight:"heading",fontWeight:"heading",fontSize:0},p:{color:"text",fontFamily:"body",fontWeight:"body",lineHeight:"body"},a:{color:"primary"},pre:{fontFamily:"monospace",overflowX:"auto",code:{color:"inherit"}},code:{fontFamily:"monospace",fontSize:"inherit"},table:{width:"100%",borderCollapse:"separate",borderSpacing:0},th:{textAlign:"left",borderBottomStyle:"solid"},td:{textAlign:"left",borderBottomStyle:"solid"},img:{maxWidth:"100%"}}};o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(s.a,{theme:T,children:Object(m.jsx)(L,{})})}),document.getElementById("root")),z()}},[[313,1,2]]]);
//# sourceMappingURL=main.e35c359a.chunk.js.map